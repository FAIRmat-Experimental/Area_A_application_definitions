definitions:
  sections:  # Schemas consist of section definitions
    MeltCzochralski:  # This is the name of the first section
      # Inheriting it from EntryData, makes this section a possible
      # EntryArchive.data sub-section
      base_section: nomad.datamodel.data.EntryData
      sub_sections:
        user:
          repeats: true
          section:
             #m_def: 
             # label_quantity: name
            quantities:
              role:
                type:
                  type_kind: Enum
                  type_data:
                    - Operator
                    - Responsible_person
                m_annotations:
                  eln:
                    component: EnumEditQuantity
              name:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
              affiliation_institution:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
              affiliation_group:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
              address:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
              email:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
              orcid:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
              telephone_number:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
        instrument:
          section:
            sub_sections:
              furnace:
                section:
                  quantities:
                    furnace_type:
                      type: str
                      description: "Furnace description"
                      m_annotations:
                        eln:
                          component: StringEditQuantity
              heating:
                section:
                  quantities:
                    heater_type:
                      type:
                        type_kind: Enum
                        type_data:
                          - Resistance
                          - Inductor
                      m_annotations:
                        eln:
                          component: EnumEditQuantity
                    heater_id:
                      type: str
                      description: "Inductor or resistance heater name or ID"
                      m_annotations:
                        eln:
                          component: StringEditQuantity
              sensors:
                section:
                  quantities:
                    sensors_locations:
                      type: str
                      description: Picture of sensor locations
                      m_annotations:
                        eln:
                          component: RichTextEditQuantity
                  sub_sections:
                    temperature_sensor:
                      section:
                        #m_def: label_quantity='sensor_alias'
                        quantities:
                          sensor_type:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          sensor_description:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          sensor_alias:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          channel:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          measured_property:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          value:
                            type: np.float64
                            shape: ['*']
                            unit: K
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                    pyro_sensor:
                      section:
                        quantities:
                          sensor_type:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          sensor_description:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          sensor_alias:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          channel:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          measured_property:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          emission:
                            type: int
                            m_annotations:
                              eln:
                                component: NumberEditQuantity
                                minValue: 0
                                maxValue: 100
                            description: "Emission percentage value set in pyrometer"
                          transmission:
                            type: np.float64
                            m_annotations:
                              eln:
                                component: NumberEditQuantity
                                minValue: 0
                                maxValue: 100
                            description: "Transmission percentage value set in pyrometer"
                          t90:
                            type: np.float64
                            description: "FILL THE DESCRIPTION"
                            unit: seconds
                            m_annotations:
                              eln:
                                component: NumberEditQuantity
                          value:
                            type: np.float64
                            shape: ['*']
                            unit: K
                            m_annotations:
                              eln:
                                component: NumberEditQuantity
        data_processing:
          section:
            quantities:
              multimeter: 
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
                description: "Multimeter used for data logging"
              software:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
                description: "Software used for logging"
              sampling_time:
                type: np.float64
                unit: ms
                m_annotations:
                  eln:
                    component: NumberEditQuantity
                    defaultDisplayUnit: ms
                description: "Time between sampled points"
        synthesis:
          section:
            quantities:
              experiment_identifier:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
              experiment_location:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
              start_time:
                type: Datetime
                m_annotations:
                  eln:
                    component: DateTimeEditQuantity
              end_time:
                type: Datetime
                m_annotations:
                  eln:
                    component: DateTimeEditQuantity
              synthesis_category:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
              synthesis_method:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
            sub_sections:
              synthesis_step:
                section:
                  sub_sections:
                    pre_process:
                      section:
                        quantities:
                          timestamp:
                            type: Datetime
                            m_annotations:
                              eln:
                                component: DateTimeEditQuantity
                    process:
                      section:
                        quantities:
                          timestamp:
                            type: Datetime
                            m_annotations:
                              eln:
                                component: DateTimeEditQuantity
                          crystal_diameter:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          fan: 
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                          pump:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity 
                          sensors:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity
                    post_process:
                      section:
                        quantities:
                          timestamp:
                            type: Datetime
                            m_annotations:
                              eln:
                                component: DateTimeEditQuantity
                          test_quantity:
                            type: str
                            m_annotations:
                              eln:
                                component: StringEditQuantity